<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hybrid KI-Soforthilfe ‚Äì Stromausfall</title>
<meta name="description" content="KI-Soforthilfe spricht mit Ihnen, analysiert Fotos und leitet Sie Schritt-f√ºr-Schritt durch Ihr Problem. Nach 15 Minuten m√ºssen Sie ggf. einen Fachmann oder Video-Call buchen.">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body{margin:0;font-family:'Montserrat',sans-serif;background:#f0f2f5;color:#222;line-height:1.6;scroll-behavior:smooth;}
a{text-decoration:none;}
h1,h2,h3{margin:0 0 15px;}
h1{font-size:2.8rem;color:#ffca28;}
h2{text-align:center;margin-bottom:30px;}
p{color:#555;}

/* NAVIGATION */
nav{position:fixed;top:0;width:100%;background:#111;display:flex;justify-content:space-between;align-items:center;padding:15px 40px;z-index:1001;box-shadow:0 4px 15px rgba(0,0,0,0.3);}
.logo{color:#ffca28;font-weight:700;font-size:1.3rem;}
.nav-links{display:flex;gap:25px;}
.nav-links a{color:#ffca28;font-weight:600;position:relative;padding:4px 0;}
.nav-links a::after{content:"";position:absolute;left:0;bottom:-3px;width:0;height:2px;background:#25d366;transition:0.3s;}
.nav-links a:hover::after{width:100%;}
.hamburger{display:none;flex-direction:column;gap:5px;cursor:pointer;}
.hamburger div{width:28px;height:3px;background:#ffca28;}
@media(max-width:768px){.nav-links{position:fixed;top:60px;right:-100%;width:220px;height:calc(100% - 60px);background:#111;flex-direction:column;padding:25px;gap:20px;transition:right 0.3s ease;}.nav-links.active{right:0;}.hamburger{display:flex;}}

/* HEADER */
header{background:linear-gradient(135deg,#1a1a1a,#333);color:white;text-align:center;padding:120px 20px 80px;}
header p{font-size:1.2rem;margin-bottom:30px;color:#f0f0f0;}
.btn{display:inline-block;padding:18px 45px;border-radius:50px;background:#25d366;color:white;font-weight:700;border:none;cursor:pointer;transition:0.3s;}
.btn:hover{background:#1ebe57;transform:scale(1.05);}

/* CONTENT */
section{padding:80px 20px;max-width:1000px;margin:auto;}
.features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:30px;}
.feature-card{background:white;padding:25px;border-radius:12px;text-align:center;box-shadow:0 6px 15px rgba(0,0,0,0.05);transition:0.3s;}
.feature-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(0,0,0,0.1);}
.feature-card h3{color:#ffca28;}

/* MODAL & CHAT */
#modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:1000;justify-content:center;align-items:center;padding:20px;}
.modal-box{background:white;padding:35px;border-radius:15px;max-width:480px;width:100%;position:relative;}
#messages{height:250px;overflow-y:auto;border:1px solid #ccc;padding:10px;border-radius:8px;background:#f9f9f9;margin-bottom:10px;}
.message{margin-bottom:10px;padding:8px 12px;border-radius:12px;max-width:80%;clear:both;}
.message.user{background:#25d366;color:white;float:right;text-align:right;}
.message.ai{background:#ffca28;color:#111;float:left;text-align:left;}
#inputArea{display:flex;gap:10px;margin-bottom:10px;}
#inputArea input[type="text"]{flex:1;padding:12px;border-radius:8px;border:1px solid #ccc;}
#inputArea button{padding:12px 20px;border:none;border-radius:8px;background:#25d366;color:white;cursor:pointer;transition:0.3s;}
#inputArea button:hover{background:#1ebe57;}
#fileInput{margin-top:10px;}
audio{margin-top:10px;width:100%;}

/* FOOTER */
footer{background:#1a1a1a;color:white;text-align:center;padding:25px;}
footer a{color:#ffca28;margin:0 8px;}
</style>
</head>
<body>

<nav>
  <div class="logo">‚ö° KI-Soforthilfe</div>
  <div class="nav-links" id="navLinks">
    <a href="#mainContent">Home</a>
    <a href="impressum.html">Impressum</a>
    <a href="agb.html">AGB</a>
    <a href="datenschutz.html">Datenschutz</a>
  </div>
  <div class="hamburger" id="hamburger"><div></div><div></div><div></div></div>
</nav>

<header id="mainContent">
  <h1>‚ö° Hybrid KI-Soforthilfe bei Stromausfall ‚ö°</h1>
  <p>KI analysiert Ihr Problem, spricht mit Ihnen Schritt-f√ºr-Schritt und nach 15 Minuten m√ºssen Sie ggf. einen Fachmann oder Video-Call buchen.</p>
  <button id="openBtn" class="btn">Soforthilfe anfordern ‚Äì 39,99 ‚Ç¨</button>
</header>

<section>
<h2>Unsere Leistungen</h2>
<div class="features-grid">
  <div class="feature-card"><h3>üñº Foto-Analyse</h3><p>Upload von Sicherungskasten oder FI-Schalter.</p></div>
  <div class="feature-card"><h3>üéô Sprach-Ausgabe</h3><p>KI spricht Schritt-f√ºr-Schritt mit Ihnen.</p></div>
  <div class="feature-card"><h3>üìù Text-Chat</h3><p>Interaktive Anleitung & R√ºckfragen.</p></div>
  <div class="feature-card"><h3>üë®‚Äçüîß Upgrade auf Experten</h3><p>Live-Video oder Chat bei komplexen F√§llen.</p></div>
</div>
</section>

<!-- MODAL -->
<div id="modal">
<div class="modal-box">
<h3>Soforthilfe anfordern</h3>
<form id="helpForm">
<input type="text" id="name" placeholder="Ihr vollst√§ndiger Name" required>
<input type="tel" id="phone" placeholder="Ihre R√ºckrufnummer" required>
<input type="email" id="email" placeholder="Ihre E-Mail Adresse" required>
<textarea id="message" placeholder="Kurzbeschreibung (optional)"></textarea>

<label class="checkbox-label">
<input type="checkbox" id="consent" required>
Ich stimme der <a href="datenschutz.html" target="_blank">Datenschutzerkl√§rung</a> zu und akzeptiere die <a href="agb.html" target="_blank">AGB</a>.
</label>

<label class="checkbox-label">
<input type="checkbox" id="widerrufConsent" required>
Ich verlange ausdr√ºcklich den sofortigen Beginn der Dienstleistung und verzichte bei vollst√§ndiger Leistung auf mein Widerrufsrecht.
</label>

<div id="messages"></div>

<div id="inputArea">
<input type="text" id="userInput" placeholder="Beschreiben Sie Ihr Problem...">
<button type="button" id="sendBtn">Senden</button>
</div>

<input type="file" id="fileInput" accept="image/*">
<audio id="ttsAudio" controls></audio>

<div id="errorMsg"></div>

<button type="button" id="payBtn" class="btn" style="width:100%;margin-top:10px;" disabled>üí≥ Zahlung simulieren (39,99 ‚Ç¨)</button>
<button type="button" id="helpBtn" class="btn" style="width:100%;margin-top:10px;" disabled>‚úÖ KI-Assistenz starten</button>
<button type="submit" style="width:100%;margin-top:10px;">Abschicken</button>
<button type="button" onclick="closeModal()" style="width:100%;margin-top:10px;">Abbrechen</button>
</form>
</div>
</div>

<div id="loadingOverlay" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:1100;justify-content:center;align-items:center;color:white;font-size:1.5em;font-weight:bold;">üí≥ Zahlung wird verarbeitet...</div>

<footer>
¬© 2026 KI-Soforthilfe | <a href="impressum.html">Impressum</a> | <a href="agb.html">AGB</a> | <a href="datenschutz.html">Datenschutz</a>
</footer>

<script>
// Navigation
const hamburger = document.getElementById('hamburger');
const navLinks = document.getElementById('navLinks');
hamburger.addEventListener('click', ()=>navLinks.classList.toggle('active'));

// Modal
const modal = document.getElementById("modal");
const openBtn = document.getElementById("openBtn");
function closeModal(){modal.style.display="none";document.body.style.overflow="auto";}
openBtn.addEventListener("click",()=>{modal.style.display="flex";document.body.style.overflow="hidden";});

// Validierung
const payBtnEl = document.getElementById("payBtn");
const helpBtnEl = document.getElementById("helpBtn");
const consentEl = document.getElementById("consent");
const widerrufEl = document.getElementById("widerrufConsent");
const nameEl = document.getElementById("name");
const phoneEl = document.getElementById("phone");
const emailEl = document.getElementById("email");
const overlay = document.getElementById("loadingOverlay");
const userInputEl = document.getElementById("userInput");
const sendBtn = document.getElementById("sendBtn");
const messagesEl = document.getElementById("messages");
const ttsAudio = document.getElementById("ttsAudio");
const fileInput = document.getElementById("fileInput");

function updatePayButtonState(){
    const nameValid = nameEl.value.trim().length>=3;
    const phoneValid = /^[0-9+ ]{10,15}$/.test(phoneEl.value.trim());
    const emailValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailEl.value.trim());
    const checkboxesValid = consentEl.checked && widerrufEl.checked;
    payBtnEl.disabled = !(nameValid&&phoneValid&&emailValid&&checkboxesValid);
}
[nameEl,phoneEl,emailEl,consentEl,widerrufEl].forEach(el=>{
    el.addEventListener('input',updatePayButtonState);
    el.addEventListener('change',updatePayButtonState);
});
updatePayButtonState();

// Zahlung simulieren
payBtnEl.addEventListener("click",()=>{
    overlay.style.display="flex";
    setTimeout(()=>{
        overlay.style.display="none";
        alert("üí≥ Zahlung erfolgreich simuliert! KI-Assistenz starten...");
        helpBtnEl.disabled=false;
    },2000);
});

// KI-Chat & Timer
let kiTimer;
const KI_DURATION = 15*60*1000; // 15 Minuten

function addChatMessage(text,sender="ai"){
    const div = document.createElement("div");
    div.className = "message "+sender;
    div.innerText = text;
    messagesEl.appendChild(div);
    messagesEl.scrollTop = messagesEl.scrollHeight;
}

function startKIAssistant(){
    addChatMessage("KI: Hallo! Ich leite Sie Schritt f√ºr Schritt durch Ihr Stromproblem. Sie haben 15 Minuten.","ai");
    kiTimer = setTimeout(()=>{
        addChatMessage("KI: Ihre 15 Minuten Sitzung ist beendet. Bitte buchen Sie einen Experten-Video-Call oder kontaktieren Sie einen Fachmann vor Ort.","ai");
        endSession();
    },KI_DURATION);
}

// Senden im Chat
sendBtn.addEventListener("click",()=>{
    const text = userInputEl.value.trim();
    if(!text) return;
    addChatMessage(text,"user");
    userInputEl.value="";
    addChatMessage("KI: Ich analysiere Ihre Eingabe...","ai");
    // Platzhalter f√ºr KI/API
    setTimeout(()=>{
        addChatMessage("KI: Anleitungsschritt: Bitte pr√ºfen Sie Sicherungen und FI-Schalter.","ai");
        ttsAudio.src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"; 
        ttsAudio.play();
    },1500);
});
userInputEl.addEventListener("keypress",e=>{if(e.key==="Enter") sendBtn.click();});

// Hilfe-Button startet KI
helpBtnEl.addEventListener("click",startKIAssistant);

// Formular Submit ‚Üí WhatsApp
document.getElementById("helpForm").addEventListener("submit",e=>{
    e.preventDefault();
    const name=nameEl.value.trim();
    const phone=phoneEl.value.trim();
    const email=emailEl.value.trim();
    const message=document.getElementById("message").value.trim();
    const whatsappNumber="4915145932462";
    const text=`üö® Neue Video-Soforthilfe Anfrage üö®\n\nName: ${name}\nTelefon: ${phone}\nE-Mail: ${email}\n\nBeschreibung: ${message}`;
    window.open(`https://wa.me/${whatsappNumber}?text=${encodeURIComponent(text)}`,"_blank");
    closeModal();
    clearTimeout(kiTimer);
});

function endSession(){
    helpBtnEl.disabled=true;
    clearTimeout(kiTimer);
    if(!document.getElementById("videoCallBtn")){
        const btn=document.createElement("button");
        btn.id="videoCallBtn";
        btn.innerText="üë®‚Äçüîß Experten Video-Call buchen";
        btn.className="btn";
        btn.style.width="100%";
        btn.addEventListener("click",()=>{
            const whatsappNumber="4915145932462";
            window.open(`https://wa.me/${whatsappNumber}?text=Ich m√∂chte einen Experten-Video-Call buchen`,"_blank");
        });
        modal.querySelector(".modal-box").appendChild(btn);
    }
}
</script>

</body>
</html>
